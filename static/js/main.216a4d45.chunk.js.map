{"version":3,"sources":["img/spotlight.png","img/cross.png","img/bouncing.gif","img/star.png","img/star_off.png","img/crown.png","img/crown_off.png","img/expand.png","img/gears.png","img/globe.png","img/cancel.png","img/map.png","GameContext.js","firebase.js","GameClass.js","GameProvider.js","MainButton.js","PlayerCard.js","Standings.js","SingleRecord.js","History.js","Pregame.js","Button.js","ButtonGroup.js","Dropdown.js","SidePanel.js","Dialog.js","LiveGame.js","Confetti.js","Postgame.js","Login.js","GameSwitch.js","Loading.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","GameContext","React","createContext","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","GoogleAuthProvider","Game","location","imgSrc","winner","guesses","skipped","this","date","Date","toLocaleDateString","GameProvider","props","state","gameModes","PREGAME","LIVEGAME","POSTGAME","gameMode","img","players","history","hints","user","loadAssets","isLoaded","setState","Promise","all","getPlayerInfo","getGameHistory","then","snaps","a","async","_id","val","active","playing","push","values","Object","filter","v","sorted","sort","b","valA","getTime","getImageInfo","setHints","catch","err","console","error","banned","seen","forEach","h","g","guess","includes","name","arr","map","e","gamesRef","database","ref","skippedGame","caption","img_src","resetGame","getNewImage","data","find","id","once","window","reload","Provider","value","modes","mode","setToPregameMode","setToLiveMode","setToPostgameMode","bind","skipImage","skipImageAndReload","setUser","userInfo","toggleUserPlayingState","togglePlayingStateOfPlayer","updateGuesses","children","Component","MainButton","loading","simple","clickHandler","actionTitle","disabled","className","onClick","PlayerCard","togglePlaying","isCurrentChamp","streak","wins","gamesPlayed","allInfo","images","Crown","CrownOff","Star","StarOff","alt","isChamp","generateAlt","src","total","avg","Math","round","Number","generateAverageWin","Standings","useState","showAllInfo","setAllInfo","useContext","getReigningChampion","sortedHistory","i","length","sortAndReturnGameHistory","reigningChamp","currentWinStreak","champ","getCurrentWinStreak","Expand","show","key","SingleRecord","displayGuesses","setDisplayGuesses","record","guessesKeys","keys","hasValidLink","href","linkLabel","linkClass","target","rel","colSpan","k","History","shouldDisplay","hideHistory","Close","en","hidden","Pregame","showHistory","showLogin","context","imgLoaded","Spotlight","getCurrentDate","curr","getDay","getMonth","getDate","contextType","Button","icon","text","ButtonGroup","elements","centered","mouseEnter","mouseLeave","onMouseEnter","onMouseLeave","el","Dropdown","visible","inputClass","onClickHandler","hasFocus","d","idx","event","SidePanel","suggestions","guessValue","selectedClass","hasFocusElem","nextProps","nextState","goToPostGame","inputs","document","getElementsByClassName","child","player","textContent","re","RegExp","filteredHints","test","cl","filterHints","downPressed","upPressed","enterPressed","nIdx","setInputValue","cls","resetSuggestions","setTimeout","closePanel","TransitionGroup","component","CSSTransition","classNames","timeout","MapIcon","p","toString","onChange","handleGuessValueChange","onBlur","handleOnBlur","onKeyDown","handleKeyPress","saveGuesses","Dialog","message","cancelText","onCompleteText","onCancel","onComplete","preCompleteMessage","showSecondary","setShowSecondary","btnGroupEntries","secondaryBtnGroupEntries","LiveGame","btnGroupVisible","sidePanelVisible","dialogVisible","invalidateTimeout","nTimeout","clearTimeout","globe","toggleSidePanelVisibility","cancel","showDialog","hideDialog","gears","makeBtnGrpVisible","setTimeoutBtnVisible","Confetti","frameInterval","maxCount","speed","alpha","gradient","start","stop","toggle","pause","resume","togglePause","remove","isPaused","isRunning","supportsAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","colors","streamingConfetti","animationTimer","lastFrameTime","now","particles","waveAngle","resetParticle","runAnimation","toggleConfettiPause","particle","width","height","color","random","color2","x","y","diameter","tilt","tiltAngleIncrement","tiltAngle","PI","resumeConfetti","pauseConfetti","clearRect","innerWidth","innerHeight","delta","updateParticles","drawParticles","min","max","callback","canvas","getElementById","createElement","setAttribute","body","prepend","addEventListener","getContext","count","temp","stopConfetti","startConfetti","x2","y2","beginPath","lineWidth","createLinearGradient","addColorStop","strokeStyle","moveTo","lineTo","stroke","sin","cos","splice","Postgame","winnerDeclared","congrats","ev","winningPlayerInfo","newGame","pushPlayerInfoToDB","con","playerRef","update","sortedGuesses","declareWinner","title","getGoogleWidth","getGoogleHeight","frameBorder","setGoogleSrc","allowFullScreen","Login","login","email","password","setPersistence","Auth","Persistence","LOCAL","signInWithEmailAndPassword","res","fail","type","onKeyUp","GameSwitch","game","onLoad","handleImgLoaded","onError","handleImgError","Loading","loggedIn","displayLogin","checkUserStatus","onAuthStateChanged","userIsLoggedIn","uid","gameSwitch","renderGameSwitch","Bouncing","appIsLoaded","App","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.216a4d45.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spotlight.6f01fba9.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/bouncing.ba717b23.gif\";","module.exports = __webpack_public_path__ + \"static/media/star.3c794117.png\";","module.exports = __webpack_public_path__ + \"static/media/star_off.2a641e87.png\";","module.exports = __webpack_public_path__ + \"static/media/crown.684af6ea.png\";","module.exports = __webpack_public_path__ + \"static/media/crown_off.978e8029.png\";","module.exports = __webpack_public_path__ + \"static/media/expand.6225ffbc.png\";","module.exports = __webpack_public_path__ + \"static/media/gears.4a3b80e7.png\";","module.exports = __webpack_public_path__ + \"static/media/globe.cf1fad60.png\";","module.exports = __webpack_public_path__ + \"static/media/cancel.f743a430.png\";","module.exports = __webpack_public_path__ + \"static/media/map.ff05dc4d.png\";","import React from 'react';\n\nconst GameContext = React.createContext();\n\nexport default GameContext;","import firebase from 'firebase';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCEfsErry8eIjsxj0-X87KQx4i9gtRajIQ\",\n    authDomain: \"where-am-i-e7e73.firebaseapp.com\",\n    databaseURL: \"https://where-am-i-e7e73.firebaseio.com\",\n    projectId: \"where-am-i-e7e73\",\n    storageBucket: \"where-am-i-e7e73.appspot.com\",\n    messagingSenderId: \"1001217801581\",\n    appId: \"1:1001217801581:web:e40e6e807e83501120ee64\"\n  };\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\nexport default firebase;","class Game {\n    constructor(location, imgSrc, winner, guesses, skipped=false) {\n        this.location = location;\n        this.imgSrc = imgSrc;\n        this.winner = winner;\n        this.date = new Date().toLocaleDateString();\n        this.guesses = guesses;\n        this.skipped = skipped;\n    }\n}\n\nexport default Game;","import React, { Component } from 'react';\nimport GameContext from './GameContext';\nimport { data } from './contents.json';\nimport firebase from './firebase.js';\nimport Game from './GameClass';\n\nclass GameProvider extends Component {\n    constructor(props) {\n        super(props);\n        this.state.user = props.user;\n    }\n\n    state = { \n        gameModes: {\n            PREGAME: 'pre',\n            LIVEGAME: 'live',\n            POSTGAME: 'post'\n        },\n        gameMode: 'pre',\n        img: null,\n        players: [],\n        history: [],\n        guesses: {},\n        hints: []\n     }\n    \n    componentDidMount() {\n        this.loadAssets();\n    }\n\n    loadAssets() {\n        const { isLoaded } = this.props;\n        this.setState({players: [], history: []});\n        Promise.all([this.getPlayerInfo(), this.getGameHistory()])\n            .then(async snaps => {\n                let val = snaps[0].val();\n                const players = [];\n                for (let _id in val) {\n                    val[_id]['_id'] = _id;\n                    if (val[_id].active) {\n                        val[_id].playing = true;\n                    } else {\n                        val[_id].playing = false;\n                    }\n                    players.push(val[_id]);\n                }\n                this.setState({players: players});\n\n                val = snaps[1].val();\n                if (val) {\n                    const values = Object.values(val).filter(v => !v.skipped);\n                    const sorted = values.sort((a, b) => {\n                        const valA = new Date(a.date).getTime();\n                        const valB = new Date(b.date).getTime();\n                        return valB - valA;\n                    });\n                    this.setState({history: sorted});\n                }\n\n                const img = this.getImageInfo();\n                this.setState({img: img});\n                isLoaded();\n\n                this.setHints();\n            })\n            .catch(err => console.error(err));\n    }\n\n    setHints() {\n        const banned = ['USA', 'U.S.A.', 'U.S.', 'US', 'United Stated of America', 'U.K.', 'UK', 'Australia'];\n        const seen = {};\n        const guesses = [];\n\n        this.state.history.forEach(h => {\n            if (h.guesses) {\n                for (let g in h.guesses) {\n                    const guess = h.guesses[g];\n                    if (!(guess in seen) && !banned.includes(guess)) {\n                        seen[guess] = 1;\n                        guesses.push(guess);\n                    }\n                }\n                this.setState({hints: guesses});\n            }\n        });\n    }\n\n    togglePlayingStateOfPlayer(name) {\n        let arr = this.state.players.map(e => {\n            if (e.name === name) {\n                e.playing = !e.playing;\n            }\n            return e;\n        });\n        this.setState({players: arr});\n    }\n\n    getNewImage() {\n        const img = this.getImageInfo();\n        this.setState({img: img});\n    }\n\n    skipImageAndReload() {\n        const gamesRef = firebase.database().ref(this.state.user + '/games');\n        const skippedGame = new Game(this.state.img.caption, this.state.img.img_src, 'SKIPPED', false, true);\n        gamesRef.push(skippedGame);\n        this.resetGame();\n    }\n\n    skipImage() {\n        const gamesRef = firebase.database().ref(this.state.user + '/games');\n        const skippedGame = new Game(this.state.img.caption, this.state.img.img_src, 'SKIPPED', false, true);\n        gamesRef.push(skippedGame);\n        this.getNewImage();\n    }\nx\n    getImageInfo() {\n        // const entry = data[Math.floor(Math.random() * data.length)];\n        // if (this.state.history.find(e => e.imgSrc === entry.img_src)) {\n        //     return this.getImageInfo();\n        // }\n        // return entry;\n        //for testing\n        return data.find(e => e.id === '6ee0d4d8fb5cdc629b1541ed5b677391');\n    }\n\n    getPlayerInfo() {\n        const playersRef = firebase.database().ref(this.state.user + '/players');\n        return playersRef.once('value');\n    }\n\n    getGameHistory() {\n        const gameHistoryRef = firebase.database().ref(this.state.user + '/games');\n        return gameHistoryRef.once('value');\n    }\n\n    resetGame() {\n        window.location.reload();\n    }\n\n    render() { \n        return ( \n            <GameContext.Provider\n                value={{\n                    modes: this.state.gameModes,\n                    mode: this.state.gameMode,\n                    setToPregameMode: () => this.setState({gameMode: this.state.PREGAME}),\n                    setToLiveMode: () => this.setState({gameMode: this.state.gameModes.LIVEGAME}),\n                    setToPostgameMode: () => this.setState({gameMode: this.state.gameModes.POSTGAME}),\n                    img: this.state.img,\n                    getNewImage: this.getNewImage.bind(this),\n                    skipImage: this.skipImage.bind(this),\n                    skipImageAndReload: this.skipImageAndReload.bind(this),\n                    players: this.state.players,\n                    history: this.state.history,\n                    resetGame: this.resetGame.bind(this),\n                    user: this.state.user,\n                    setUser: (userInfo) => this.setState({user: userInfo}),\n                    toggleUserPlayingState: this.togglePlayingStateOfPlayer.bind(this),\n                    guesses: this.state.guesses,\n                    updateGuesses: (guesses) => this.setState({guesses: guesses}),\n                    hints: this.state.hints,\n                }}\n            >\n                {this.props.children}\n            </GameContext.Provider>\n         );\n    }\n}\n \nexport default GameProvider;","import React from 'react';\nimport './MainButton.css';\n\nconst MainButton = (props) => {\n    const { loading, simple, clickHandler, actionTitle } = props;\n\n    return ( \n        <button\n            disabled={loading}\n            className={simple ? 'simple' : 'main-button'}\n            onClick={clickHandler}>\n            {actionTitle}\n        </button>\n    );\n}\n \nexport default MainButton;","import React from 'react';\nimport Star from './img/star.png';\nimport StarOff from './img/star_off.png';\nimport Crown from './img/crown.png';\nimport CrownOff from './img/crown_off.png';\nimport './PlayerCard.css';\n\nconst PlayerCard = (props) => {\n    const { playing, togglePlaying, isCurrentChamp, streak, wins, gamesPlayed, \n        name, allInfo } = props;\n\n    const generateAverageWin = (wins, total) => {\n        const avg = wins && total \n                ? Math.round(100 * (Number(wins) / Number(total)))\n                : 0;\n        return `${avg} %`;\n    }\n\n    const generateAlt = (isChamp) => {\n        return isChamp ? 'crown' : 'star';\n    }\n\n    const getImages = (isChamp) => {\n        return isChamp ? [Crown, CrownOff] : [Star, StarOff]; \n    }\n\n    const images = getImages(isCurrentChamp);\n    const alt = generateAlt(isCurrentChamp);\n\n    return (\n        <div className=\"player-card\">\n            {playing &&\n            <img src={images[0]} alt={alt} onClick={() => togglePlaying(name)} />\n            }\n            {!playing &&\n            <img src={images[1]} alt={alt + ' off'} onClick={() => togglePlaying(name)} />\n            }\n            {isCurrentChamp &&\n            <span className=\"streak\">{streak}</span>\n            }\n            <p className=\"name\">{name}</p>\n            <p>{wins}</p>\n            {allInfo &&\n            <p>{generateAverageWin(wins, gamesPlayed)}</p>\n            }\n        </div>\n    );\n}\n\nexport default PlayerCard;","import React, { useContext, useState } from 'react';\nimport './Standings.css';\nimport GameContext from './GameContext';\nimport PlayerCard from './PlayerCard';\nimport Expand from './img/expand.png';\n\nconst Standings = () => {\n    const [showAllInfo, setAllInfo] = useState(false);\n    const { players, toggleUserPlayingState, history } = useContext(GameContext);\n\n    const toggleDisplayOfInfo = () => {\n        setAllInfo(show => !show);\n    }\n\n    const sortAndReturnGameHistory = (history) => {\n        return history.sort((a, b) => a.date - b.date);\n    }\n\n    const getReigningChampion = (sortedHistory) => {\n        for (let i = 0; i < sortedHistory.length; i++) {\n            if (sortedHistory[i].winner !== 'SKIPPED') {\n                return sortedHistory[i].winner;\n            }\n        }\n        return '';\n    }\n\n    const getCurrentWinStreak = (sortedHistory) => {\n        const champ = getReigningChampion(sortedHistory);\n        let streak = 0;\n\n        for (let i = 0; i < sortedHistory.length; i++) {\n            if (sortedHistory[i].winner === 'SKIPPED') {\n                continue;\n            }\n            else if (champ === sortedHistory[i].winner) {\n                streak++;\n            } else {\n                break;\n            }\n        }\n\n        return streak;\n    }\n\n    /*\n    currently, the behavior in the GameProvider is to provide History already sorted,\n    however, this may not always be the case in the future so this sort is added as insurance.\n    */\n    const sortedHistory = sortAndReturnGameHistory(history);\n    const reigningChamp = getReigningChampion(sortedHistory);\n    const currentWinStreak = getCurrentWinStreak(sortedHistory);\n\n    return ( \n        <div className=\"standings\">\n            <img className=\"expand\" src={Expand} alt=\"expand\" onClick={toggleDisplayOfInfo.bind(this)} />\n            {players.map((e, i) => {\n                if (e.name !== 'No one' && e.active) {\n                    return (\n                        <PlayerCard name={e.name} key={i} \n                        isCurrentChamp={e.name === reigningChamp} \n                        streak={currentWinStreak} \n                        allInfo={showAllInfo} \n                        wins={e.wins} \n                        playing={e.playing} \n                        togglePlaying={toggleUserPlayingState} \n                        gamesPlayed={e.gamesPlayed} />\n                    );\n                } else {\n                    return null;\n                }\n            })}\n        </div>\n    );\n}\n \nexport default Standings;","import React, { useState } from 'react';\nimport './SingleRecord.css';\n\nconst SingleRecord = (props) => {\n    const [displayGuesses, setDisplayGuesses] = useState(false);\n    const { record } = props;\n    const guessesKeys = Object.keys(record.guesses);\n    const hasValidLink = record.imgSrc.includes('.');\n    const href = hasValidLink ? record.imgSrc : '#';\n    const linkLabel = hasValidLink ? 'Link' : 'n/a';\n    const linkClass = hasValidLink ? '' : 'dead-link';\n\n    const toggleGuessDisplay = () => {\n        setDisplayGuesses(displayGuesses => !displayGuesses);\n    }\n\n    return (\n        <tbody className=\"entry\">\n            <tr className=\"record\" onClick={toggleGuessDisplay}>\n                <td>{record.date}</td>\n                <td>{record.location}</td>\n                <td>{record.winner}</td>\n                <td>\n                    <a className={linkClass} target=\"_blank\" rel=\"noopener noreferrer\" href={href}>{linkLabel}</a>\n                </td>\n            </tr>\n            <tr className={displayGuesses ? 'guesses' : 'hidden'}>\n                <td colSpan={4}>\n                    {guessesKeys.map((k, i) => {\n                        return (\n                        <span key={i} className=\"guess-row\">\n                            <span className={record.winner === k ? \"guesser winner\" : \"guesser\"}>{`${k}: `}</span>\n                            <span className={record.winner === k ? \"guess winner\" : \"guess\"}>{record.guesses[k]}</span>\n                            <span>{`${i === guessesKeys.length - 1 ? '' : ', '}`}</span>\n                        </span>\n                        )\n                    })}\n                </td>\n            </tr>\n        </tbody>\n    )\n}\n\nexport default SingleRecord;","import React from 'react';\nimport './History.css';\nimport Close from './img/cross.png';\nimport SingleRecord from './SingleRecord';\n\nconst History = (props) => {\n    const { history, shouldDisplay, hideHistory } = props;\n\n    const setSingleRecord = (record, key) => {\n        const recordWasSkipped = record.winner === 'SKIPPED';\n        return recordWasSkipped\n            ? <tbody hidden key={key}></tbody>\n            : <SingleRecord key={key} record={record} />\n    };\n\n    return (\n        <div className={shouldDisplay ? 'history' : 'hidden'}>\n            <img className=\"close\" src={Close} alt=\"x\" onClick={hideHistory} />\n            <h3>Previous Results</h3>\n            <div className=\"results\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Date</th>\n                            <th>Location</th>\n                            <th>Winner</th>\n                            <th>Source</th>\n                        </tr>\n                    </thead>\n                    {history && history.map((en, i) => {\n                    return (\n                        setSingleRecord(en, i)\n                    )\n                    })}\n                </table>\n            </div>\n        </div>\n    )\n}\n\nexport default History;","import React, { Component } from 'react';\nimport GameContext from './GameContext';\nimport './Pregame.css';\nimport MainButton from './MainButton';\nimport Standings from './Standings';\nimport Spotlight from './img/spotlight.png';\nimport History from './History';\n\nclass Pregame extends Component {\n    state = {\n        showHistory: false,\n        showLogin: false\n    }\n    \n    render() { \n        const { setToLiveMode, history } = this.context;\n        const { imgLoaded } = this.props;\n\n        return (\n            <div className=\"pregame\">\n                <div className=\"header\">\n                    <img src={Spotlight} alt=\"logo\" />\n                    <h1>BE IN THE SPOTLIGHT</h1><h2>darkmode</h2>\n                </div>\n                <div className={this.state.showHistory ? 'hidden' : 'pregame-grid'}>\n                    <div className=\"button-div\">\n                        <MainButton actionTitle=\"Start\" loading={!imgLoaded} simple={true} clickHandler={setToLiveMode} />\n                        <br/>\n                        <MainButton actionTitle=\"History\" loading={!imgLoaded} simple={true} clickHandler={this.showHistory.bind(this)} />\n                    </div>\n                    <div className=\"standings-container\">\n                        <Standings />\n                    </div>\n                    <div className=\"footer\">\n                        <p>{this.getCurrentDate()}</p>\n                    </div>\n                </div>\n                <History history={history} shouldDisplay={this.state.showHistory} hideHistory={this.hideHistory.bind(this)} />\n            </div>\n         );\n    }\n\n    getCurrentDate() {\n        const month = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n        const day = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        const curr = new Date();\n        return day[curr.getDay()] + ', ' + month[curr.getMonth()] + ' ' + curr.getDate();\n    }\n\n    hideHistory() {\n        this.setState({showHistory: false});\n    }\n\n    showHistory() {\n        this.setState({showHistory: true});\n    }\n}\n\nPregame.contextType = GameContext;\n \nexport default Pregame;","import React from 'react';\nimport './Button.css';\n\nconst Button = (props) => {\n    const { icon, clickHandler, src, alt, text, disabled } = props;\n    \n    return (\n        <div className=\"encasing-div\">\n            {icon &&\n                <img\n                    className=\"button-icon\"\n                    src={src}\n                    alt={alt}\n                    onClick={clickHandler}\n                />\n            }\n            {!icon &&\n                <button\n                    className={disabled ? 'button disabled' : 'button'}\n                    onClick={clickHandler}\n                    disabled={disabled}\n                >{text}</button>\n            }\n        </div>\n    );\n}\n \nexport default Button;","import React from 'react';\nimport Button from './Button';\nimport './ButtonGroup.css';\n\nconst ButtonGroup = (props) => {\n    const { elements, centered, icon, mouseEnter, mouseLeave, disabled } = props;\n    const className = centered ? 'centered' : 'btn-group';\n    \n    return ( \n        <div className={className}\n            onMouseEnter={mouseEnter}\n            onMouseLeave={mouseLeave}>\n            {elements.map((el, i) => {\n                return (\n                <Button\n                    key={i}\n                    src={el.src} \n                    icon={icon} \n                    clickHandler={el.clickHandler}\n                    alt={el.alt}\n                    text={el.text}\n                    disabled={disabled}\n                />)\n            })}\n        </div>\n    );\n}\n \nexport default ButtonGroup;","import React from 'react';\nimport './Dropdown.css';\n\nconst Dropdown = (props) => {\n    const { visible, data, inputClass, onClickHandler, hasFocus } = props;\n\n    return (\n        <div className=\"dropdown\">\n            {visible &&\n            <div className=\"dropdown-content\">\n                {data.map((d, i) => {\n                    return <p className={hasFocus && hasFocus.idx === i ? \"selection focused\" : \"selection\"} onClick={event => onClickHandler(d, inputClass, event)} key={i}>{d}</p>;\n                })}\n            </div>\n            }\n        </div>\n    );\n}\n\nexport default Dropdown;","import React, { Component } from 'react';\nimport './SidePanel.css';\nimport GameContext from './GameContext';\nimport MainButton from './MainButton';\nimport MapIcon from './img/map.png';\nimport Close from './img/cross.png';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport Dropdown from './Dropdown';\n\nclass SidePanel extends Component {\n    state = {\n        suggestions: [],\n        guessValue: '',\n        selectedClass: '',\n        hasFocusElem: null,\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return this.props.visible !== nextProps.visible\n            || this.state.suggestions !== nextState.suggestions\n            || this.state.hasFocusElem !== nextState.hasFocusElem;\n    }\n\n    async saveGuesses() {\n        const { goToPostGame } = this.props;\n        const { updateGuesses } = this.context;\n        const inputs = document.getElementsByClassName('guess-input');\n        const guesses = {};\n        for (let i = 0; i < inputs.length; i++) {\n            const child = inputs[i].children;\n            const player = child[0].textContent;\n            const guess = child[1].value;\n            if (!player || !guess) {\n                return;\n            }\n            guesses[player] = guess;\n        }\n        await updateGuesses(guesses);\n        goToPostGame();\n    }\n\n    filterHints(val) {\n        const { hints } = this.props;\n        const re = new RegExp(val, 'i');\n        const filteredHints = hints.filter(e => {\n            if (re.test(e)) {\n                return e;\n            }\n\n            return null;\n        });\n        if (filteredHints.length > 5) {\n            filteredHints.length = 5;\n        }\n        \n        this.setState({suggestions: filteredHints, guessValue: val});\n    }\n\n    handleGuessValueChange(event) {\n        const cl = event.target.className;\n        this.setState({selectedClass: cl, hasFocusElem: null});\n        this.filterHints(event.target.value);\n    }\n\n    resetSuggestions() {\n        this.setState({suggestions: [], selectedClass: '', guessValue: '', hasFocusElem: null});\n    }\n\n    handleKeyPress(event) {\n        const k = event.key;\n        const downPressed = k === 'ArrowDown';\n        const upPressed = k === 'ArrowUp';\n        const enterPressed = k === 'Enter';\n        const { selectedClass } = this.state;\n\n        if (!this.state.hasFocusElem) {\n            if (downPressed) {\n                if (this.state.suggestions.length) {\n                    this.setState({hasFocusElem: {'idx': 0, 'val': this.state.suggestions[0]}});\n                }\n            }\n        } else if (downPressed || upPressed) {\n            const { idx } = this.state.hasFocusElem;\n            let nIdx;\n            if (downPressed) {\n                nIdx = idx + 1;\n            } else if (upPressed) {\n                nIdx = idx - 1;\n            }\n\n            if (nIdx < 0) {\n                this.setState({hasFocusElem: null});\n            } else if (nIdx < this.state.suggestions.length) {\n                this.setState({hasFocusElem: {'idx': nIdx, 'val': this.state.suggestions[nIdx]}});\n            }\n        } else if (enterPressed && selectedClass) {\n            const { val } = this.state.hasFocusElem;\n            this.setInputValue(val, selectedClass);\n        }\n    }\n\n    setInputValue(val, cls) {\n        const input = document.getElementsByClassName(cls)[1];\n        input.value = val;\n        this.resetSuggestions();\n    }\n\n    handleOnBlur() {\n        setTimeout(this.resetSuggestions.bind(this), 100);\n        this.setState({hasFocusElem: null});\n    }\n\n    render() {\n        const { players } = this.context;\n        const { visible, closePanel } = this.props;\n\n        return (\n            <TransitionGroup component={null}>\n            {visible &&\n                <CSSTransition classNames=\"panel-dialog\" timeout={300} >\n                <div className=\"side-panel\">\n                    <img className=\"close\" src={Close} alt=\"X\" onClick={closePanel} />\n                    <div className=\"map\">\n                        <img src={MapIcon} alt=\"Guess\" />\n                    </div>\n                    <div className=\"guesses\">\n                    {players.map((p, i) => {\n                        if (p.name === 'No one' || !p.playing) return null;\n                        const visible = i.toString() === this.state.selectedClass;\n\n                        return (\n                            <div className=\"guess-input\" key={i}>\n                                <div className={i}>{p.name}</div>\n                                <input className={i} onChange={event => this.handleGuessValueChange(event)} onBlur={event => this.handleOnBlur()} onKeyDown={event => this.handleKeyPress(event)} />\n                                <Dropdown visible={visible} hasFocus={this.state.hasFocusElem} data={this.state.suggestions} inputClass={i} onClickHandler={(val, cls) => this.setInputValue(val, cls)} />\n                            </div>\n                        )\n                    })}\n                    </div>\n                    <div className=\"side-submit\">\n                        <MainButton\n                            actionTitle=\"Submit\" \n                            simple={true} \n                            clickHandler={this.saveGuesses.bind(this)} />\n                    </div>\n                </div>\n                </CSSTransition>\n            }\n            </TransitionGroup>\n        );\n    }\n}\n\nSidePanel.contextType = GameContext;\n \nexport default SidePanel;","import React, { useState } from 'react';\nimport './Dialog.css';\nimport ButtonGroup from './ButtonGroup';\n\nconst Dialog = (props) => {\n    const { visible, message, cancelText, onCompleteText, onCancel, onComplete, preCompleteMessage } = props;\n    const [showSecondary, setShowSecondary] = useState(false);\n\n    const setToComplete = () => {\n        if (!preCompleteMessage) {\n            onComplete();\n            return;\n        }\n\n        setShowSecondary(true);\n    }\n\n    const modalClicked = (el) => {\n        if (el.target.className === 'modal') {\n            onCancel();\n        }\n    }\n\n    const resetAndComplete = () => {\n        setShowSecondary(false);\n        onComplete();\n    }\n\n    const btnGroupEntries = [\n        {text: cancelText, clickHandler: onCancel},\n        {text: onCompleteText, clickHandler: setToComplete}\n    ];\n\n    const secondaryBtnGroupEntries = [\n        {text: 'Continue', clickHandler: resetAndComplete}\n    ];\n\n    return (\n        <div className={visible ? 'modal' : 'hidden'}\n            onClick={modalClicked}>\n            <div className=\"dialog\">\n                <div className=\"message\">\n                    {showSecondary ? preCompleteMessage : message}\n                </div>\n                <div className=\"button-group-div\">\n                    <ButtonGroup \n                        elements={showSecondary ? secondaryBtnGroupEntries : btnGroupEntries} \n                        icon={false} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Dialog;","import React, { Component } from 'react';\nimport GameContext from './GameContext';\nimport gears from './img/gears.png';\nimport globe from './img/globe.png';\nimport cancel from './img/cancel.png';\nimport './LiveGame.css';\nimport ButtonGroup from './ButtonGroup';\nimport SidePanel from './SidePanel';\nimport Dialog from './Dialog';\n\nclass LiveGame extends Component {\n    state = { \n        btnGroupVisible: false,\n        timeout: null,\n        sidePanelVisible: false,\n        dialogVisible: false\n    }\n\n    showDialog() {\n        this.setState({dialogVisible: true});\n    }\n\n    hideDialog() {\n        this.setState({dialogVisible: false});\n    }\n\n    makeBtnGrpVisible() {\n        if (this.state.timeout) {\n            this.invalidateTimeout();\n        }\n        this.setState({btnGroupVisible: true});\n    }\n\n    setTimeoutBtnVisible() {\n        if (this.state.timeout) {\n            this.invalidateTimeout();\n        }\n        const nTimeout = setTimeout(() => this.setState({btnGroupVisible: false, timeout: null}),\n            1200);\n        this.setState({timeout: nTimeout});\n    }\n\n    componentWillUnmount() {\n        this.invalidateTimeout();\n    }\n\n    invalidateTimeout() {\n        clearTimeout(this.state.timeout);\n        this.setState({timeout: null});\n    }\n\n    toggleSidePanelVisibility() {\n        this.setState({sidePanelVisible: !this.state.sidePanelVisible});\n    }\n\n    render() {\n        const { setToPostgameMode, skipImage, hints, img } = this.context;\n        const { sidePanelVisible } = this.state;\n        const btnGroupEntries = [\n            {alt: 'globe', src: globe, clickHandler: this.toggleSidePanelVisibility.bind(this)},\n            {alt: 'cancel/skip', src: cancel, clickHandler: this.showDialog.bind(this)}\n        ]\n        return ( \n            <div className=\"live-game\">\n                <Dialog visible={this.state.dialogVisible}\n                    message=\"Are you sure you want to skip?\"\n                    cancelText=\"Cancel\"\n                    onCompleteText=\"Skip\"\n                    onCancel={this.hideDialog.bind(this)}\n                    onComplete={() => {\n                        skipImage();\n                        this.hideDialog();\n                    }}\n                    preCompleteMessage={`Answer: ${img.caption}`} />\n                <SidePanel goToPostGame={setToPostgameMode} closePanel={this.toggleSidePanelVisibility.bind(this)} visible={sidePanelVisible} hints={hints} />\n                <div className=\"footer-actions\">\n                    <img src={gears}\n                        onMouseEnter={this.makeBtnGrpVisible.bind(this)}\n                        onMouseLeave={this.setTimeoutBtnVisible.bind(this)}\n                        alt=\"Settings\"\n                        className=\"gears\" />\n\n                    {this.state.btnGroupVisible &&\n                        <ButtonGroup elements={btnGroupEntries} icon={true} mouseLeave={this.setTimeoutBtnVisible.bind(this)} mouseEnter={this.makeBtnGrpVisible.bind(this)} />\n                    }\n                </div>\n            </div>\n         );\n    }\n}\n\nLiveGame.contextType = GameContext;\n \nexport default LiveGame;","class Confetti {\n    constructor() {\n        this.frameInterval = 15;\t//the confetti animation frame interval in milliseconds\n        this.maxCount = 150;\t\t//set max confetti count\n        this.speed = 2;\t\t\t//set the particle animation speed\n        this.alpha = 10;\t\t\t//the alpha opacity of the confetti (between 0 and 1, where 1 is opaque and 0 is invisible)\n        this.gradient = false;\t//whether to use gradients for the confetti particles\n        this.start = null;\t\t//call to start confetti animation (with optional timeout in milliseconds, and optional min and max random confetti count)\n        this.stop = null;\t\t\t//call to stop adding confetti\n        this.toggle = null;\t\t//call to start or stop the confetti animation depending on whether it's already running\n        this.pause = null;\t\t//call to freeze confetti animation\n        this.resume = null;\t\t//call to unfreeze confetti animation\n        this.togglePause = null;\t//call to toggle whether the confetti animation is paused\n        this.remove = null;\t\t//call to stop the confetti animation and remove all confetti immediately\n        this.isPaused = null;\t\t//call and returns true or false depending on whether the confetti animation is paused\n        this.isRunning = null;\t//call and returns true or false depending on whether the animation is running\n        this.supportsAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n        this.colors = [\"rgba(30,144,255,\", \"rgba(107,142,35,\", \"rgba(255,215,0,\", \"rgba(255,192,203,\", \"rgba(106,90,205,\", \"rgba(173,216,230,\", \"rgba(238,130,238,\", \"rgba(152,251,152,\", \"rgba(70,130,180,\", \"rgba(244,164,96,\", \"rgba(210,105,30,\", \"rgba(220,20,60,\"];\n        this.streamingConfetti = false;\n        this.animationTimer = null;\n        this.pause = false;\n        this.lastFrameTime = Date.now();\n        this.particles = [];\n        this.waveAngle = 0;\n        this.context = null;\n\n        this.resetParticle = this.resetParticle.bind(this);\n        this.runAnimation = this.runAnimation.bind(this);\n        this.toggleConfettiPause = this.toggleConfettiPause.bind(this);\n    }\n\n    resetParticle(particle, width, height) {\n\t\tparticle.color = this.colors[(Math.random() * this.colors.length) | 0] + (this.alpha + \")\");\n\t\tparticle.color2 = this.colors[(Math.random() * this.colors.length) | 0] + (this.alpha + \")\");\n\t\tparticle.x = Math.random() * width;\n\t\tparticle.y = Math.random() * height - height;\n\t\tparticle.diameter = Math.random() * 10 + 5;\n\t\tparticle.tilt = Math.random() * 10 - 10;\n\t\tparticle.tiltAngleIncrement = Math.random() * 0.07 + 0.05;\n\t\tparticle.tiltAngle = Math.random() * Math.PI;\n\t\treturn particle;\n    }\n    \n    toggleConfettiPause() {\n\t\tif (this.pause)\n\t\t\tthis.resumeConfetti();\n\t\telse\n\t\t\tthis.pauseConfetti();\n    }\n    \n    isConfettiPaused() {\n\t\treturn this.pause;\n\t}\n\n\tpauseConfetti() {\n\t\tthis.pause = true;\n\t}\n\n\tresumeConfetti() {\n\t\tthis.pause = false;\n\t\tthis.runAnimation();\n    }\n    \n    runAnimation() {\n\t\tif (this.pause) {\n\t\t\treturn;\n        }\n\t\telse if (this.particles.length === 0) {\n\t\t\tthis.context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\t\t\tthis.animationTimer = null;\n\t\t} else {\n\t\t\tvar now = Date.now();\n\t\t\tvar delta = now - this.lastFrameTime;\n\t\t\tif (!this.supportsAnimationFrame || delta > this.frameInterval) {\n\t\t\t\tthis.context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\t\t\t\tthis.updateParticles();\n\t\t\t\tthis.drawParticles(this.context);\n\t\t\t\tthis.lastFrameTime = now - (delta % this.frameInterval);\n\t\t\t}\n\t\t\tthis.animationTimer = requestAnimationFrame(this.runAnimation);\n\t\t}\n\t}\n\n    startConfetti(timeout, min, max) {\n\t\tvar width = window.innerWidth;\n\t\tvar height = window.innerHeight;\n\t\twindow.requestAnimationFrame = (function() {\n\t\t\treturn window.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\tfunction (callback) {\n\t\t\t\t\treturn window.setTimeout(callback, this.frameInterval);\n\t\t\t\t};\n\t\t})();\n\t\tvar canvas = document.getElementById(\"confetti-canvas\");\n\t\tif (canvas === null) {\n\t\t\tcanvas = document.createElement(\"canvas\");\n\t\t\tcanvas.setAttribute(\"id\", \"confetti-canvas\");\n\t\t\tcanvas.setAttribute(\"style\", \"display:block;z-index:999999;pointer-events:none;position:fixed;top:0\");\n\t\t\tdocument.body.prepend(canvas);\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t\twindow.addEventListener(\"resize\", function() {\n\t\t\t\tcanvas.width = window.innerWidth;\n\t\t\t\tcanvas.height = window.innerHeight;\n\t\t\t}, true);\n\t\t\tthis.context = canvas.getContext(\"2d\");\n\t\t} else if (this.context === null)\n\t\t\tthis.context = canvas.getContext(\"2d\");\n\t\tvar count = this.maxCount;\n\t\tif (min) {\n\t\t\tif (max) {\n\t\t\t\tif (min == max)\n\t\t\t\t\tcount = this.particles.length + max;\n\t\t\t\telse {\n\t\t\t\t\tif (min > max) {\n\t\t\t\t\t\tvar temp = min;\n\t\t\t\t\t\tmin = max;\n\t\t\t\t\t\tmax = temp;\n\t\t\t\t\t}\n\t\t\t\t\tcount = this.particles.length + ((Math.random() * (max - min) + min) | 0);\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\tcount = this.particles.length + min;\n\t\t} else if (max)\n\t\t\tcount = this.particles.length + max;\n\t\twhile (this.particles.length < count)\n\t\t\tthis.particles.push(this.resetParticle({}, width, height));\n\t\tthis.streamingConfetti = true;\n\t\tthis.pause = false;\n        this.runAnimation.bind(this);\n        this.runAnimation();\n\t\tif (timeout) {\n\t\t\twindow.setTimeout(this.stopConfetti, timeout);\n\t\t}\n    }\n    \n    stopConfetti() {\n\t\tthis.streamingConfetti = false;\n\t}\n\n\tremoveConfetti() {\n\t\tthis.stopConfetti();\n\t\tthis.pause = false;\n\t\tthis.particles = [];\n\t}\n\n\ttoggleConfetti() {\n\t\tif (this.streamingConfetti)\n\t\t\tthis.stopConfetti();\n\t\telse\n\t\t\tthis.startConfetti();\n\t}\n\t\n\tisConfettiRunning() {\n\t\treturn this.streamingConfetti;\n    }\n    \n    drawParticles(context) {\n\t\tvar particle;\n\t\tvar x, y, x2, y2;\n\t\tfor (var i = 0; i < this.particles.length; i++) {\n\t\t\tparticle = this.particles[i];\n\t\t\tcontext.beginPath();\n\t\t\tcontext.lineWidth = particle.diameter;\n\t\t\tx2 = particle.x + particle.tilt;\n\t\t\tx = x2 + particle.diameter / 2;\n\t\t\ty2 = particle.y + particle.tilt + particle.diameter / 2;\n\t\t\tif (this.gradient) {\n\t\t\t\tvar gradient = context.createLinearGradient(x, particle.y, x2, y2);\n\t\t\t\tgradient.addColorStop(\"0\", particle.color);\n\t\t\t\tgradient.addColorStop(\"1.0\", particle.color2);\n\t\t\t\tcontext.strokeStyle = gradient;\n\t\t\t} else\n\t\t\t\tcontext.strokeStyle = particle.color;\n\t\t\tcontext.moveTo(x, particle.y);\n\t\t\tcontext.lineTo(x2, y2);\n\t\t\tcontext.stroke();\n\t\t}\n    }\n    \n\tupdateParticles() {\n\t\tvar width = window.innerWidth;\n\t\tvar height = window.innerHeight;\n\t\tvar particle;\n\t\tthis.waveAngle += 0.01;\n\t\tfor (var i = 0; i < this.particles.length; i++) {\n\t\t\tparticle = this.particles[i];\n\t\t\tif (!this.streamingConfetti && particle.y < -15)\n\t\t\t\tparticle.y = height + 100;\n\t\t\telse {\n\t\t\t\tparticle.tiltAngle += particle.tiltAngleIncrement;\n\t\t\t\tparticle.x += Math.sin(this.waveAngle) - 0.5;\n\t\t\t\tparticle.y += (Math.cos(this.waveAngle) + particle.diameter + this.speed) * 0.5;\n\t\t\t\tparticle.tilt = Math.sin(particle.tiltAngle) * 15;\n\t\t\t}\n\t\t\tif (particle.x > width + 20 || particle.x < -20 || particle.y > height) {\n\t\t\t\tif (this.streamingConfetti && this.particles.length <= this.maxCount)\n\t\t\t\t\tthis.resetParticle(particle, width, height);\n\t\t\t\telse {\n\t\t\t\t\tthis.particles.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default Confetti;","import React, { Component } from 'react';\nimport './Postgame.css';\nimport GameContext from './GameContext';\nimport ButtonGroup from './ButtonGroup';\nimport Game from './GameClass';\nimport firebase from './firebase.js';\nimport MainButton from './MainButton';\nimport Confetti from './Confetti';\n\nclass Postgame extends Component {\n    state = {\n        winnerDeclared: false,\n        congrats: ''\n    }\n    \n    declareWinner(ev) {\n        this.setState({winnerDeclared: true});\n        const { user, img, players, guesses } = this.context;\n        const winner = ev.target.textContent;\n        this.startConfetti(winner);\n        this.setState({congrats: `Congratulations to ${winner} for earning the spotlight!`});\n        const gamesRef = firebase.database().ref(user + '/games');\n        const winningPlayerInfo = players.find(e => e.name === winner);\n        const newGame = new Game(img.caption, img.img_src, winner, guesses);\n        gamesRef.push(newGame);\n        this.pushPlayerInfoToDB(winningPlayerInfo, players, user);\n    }\n\n    startConfetti(winner) {\n        if (winner !== 'No one') {\n            const con = new Confetti();\n            con.startConfetti();\n            setTimeout(() => con.stopConfetti(), 3000);\n        }\n    }\n\n    pushPlayerInfoToDB(winner, players, user) {\n        players.forEach(p => {\n            if (p.playing) {\n                const playerRef = firebase.database().ref(user + '/players/' + p._id);\n                if (p.name === winner.name) {\n                    playerRef.update({ wins: p.wins += 1, gamesPlayed: p.gamesPlayed += 1 });\n                } else {\n                    playerRef.update({ gamesPlayed: p.gamesPlayed += 1 });\n                }\n                \n            }\n        });\n    }\n\n    setGoogleSrc() {\n        const { img } = this.context;\n        return `https://www.google.com/maps/embed/v1/place?q=${img.caption}&zoom=7&key=AIzaSyC1aEMKRB6A4_rZq8uwov5Q_uRkYy1TK0Q`;\n    }\n\n    getGoogleWidth() {\n        const width = window.innerWidth * 0.4;\n        return `${width}`;\n    }\n\n    getGoogleHeight() {\n        const height = window.innerHeight * 0.25;\n        return `${height}`;\n    }\n\n    render() {\n        const { img, players, resetGame, guesses, skipImageAndReload } = this.context;\n        const btnGroupEntries = [];\n        const sortedGuesses = [];\n        Object.values(players).forEach(p => {\n            if (p.playing) {\n                btnGroupEntries.push({text: p.name, clickHandler: this.declareWinner.bind(this)});\n                sortedGuesses.push(guesses[p.name]);\n            }\n        });\n\n        return (\n            <div className=\"postgame\">\n                {this.state.winnerDeclared &&\n                <p className=\"small-caption\">{img.caption}</p>\n                }\n                <h2>Answer:</h2>\n                {this.state.winnerDeclared && \n                <div className=\"caption\">{this.state.congrats}</div>\n                }\n                {!this.state.winnerDeclared &&\n                <div className=\"caption\">{img.caption}</div>\n                }\n                {!this.state.winnerDeclared &&\n                <p className=\"skip\" onClick={skipImageAndReload}>SKIP IMAGE</p>\n                }\n                <div className={this.state.winnerDeclared ? 'hidden' : ''}>\n                    <ButtonGroup elements={btnGroupEntries} disabled={this.state.winnerDeclared} icon={false} centered={true} />\n                    <div className=\"guesses-caption\">\n                        {sortedGuesses.map((g, i) => {\n                            return <span key={i} className=\"guess-caption\">{g}</span>\n                        })}\n                    </div>\n                </div>\n                <div className={!this.state.winnerDeclared ? 'hidden' : 'google'}>\n                    <iframe title=\"google\" width={this.getGoogleWidth()} height={this.getGoogleHeight()} frameBorder=\"0\"\n                        src={this.setGoogleSrc()} allowFullScreen></iframe>\n                </div>\n                {this.state.winnerDeclared && \n                <span className=\"google-warning\">If no specific location is displayed, Maps could not locate based on the caption.</span>\n                }\n                {this.state.winnerDeclared &&\n                    <div className=\"main-button-container\">\n                        <MainButton actionTitle=\"Home\" simple={false} clickHandler={resetGame} />\n                    </div>\n                }\n            </div>\n         );\n    }\n}\n\nPostgame.contextType = GameContext;\n \nexport default Postgame;","import React from 'react';\nimport './Login.css';\nimport MainButton from './MainButton';\nimport firebase, { auth } from './firebase';\n\nconst Login = (props) => {\n    const { setUser } = props;\n\n    const handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            login();\n        }\n    }\n\n    const login = () => {\n        const email = document.getElementById('login-email').value;\n        const password = document.getElementById('login-pwd').value;\n\n        auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n            .then(async () => {\n                const res = await auth.signInWithEmailAndPassword(email, password);\n\n                if (res.user) {\n                    setUser(res.user);\n                } else {\n                    document.getElementById('login-pwd').value = '';\n                }\n            })\n            .fail(err => console.error('Failed to login - ', err));\n    }\n\n    return ( \n        <div className=\"login-container\">\n            <h3>Sign in</h3>\n            <div className=\"login\">\n                <label>Email: \n                    <input id=\"login-email\" />\n                </label>\n                <label>Password: \n                    <input type=\"password\" id=\"login-pwd\" onKeyUp={handleKeyPress.bind(this)} />\n                </label>\n                <div className=\"submit\">\n                    <MainButton actionTitle=\"Submit\" simple={true} clickHandler={login.bind(this)} />\n                </div>\n            </div>\n        </div>\n    );\n}\n \nexport default Login;","import React, { Component } from 'react';\nimport GameContext from './GameContext';\nimport Pregame from './Pregame';\nimport LiveGame from './LiveGame';\nimport './GameSwitch.css';\nimport Postgame from './Postgame';\nimport Login from './Login';\n\nclass GameSwitch extends Component {\n    state = {\n        imgLoaded: false\n    }\n\n    handleImgLoaded() {\n        this.setState({imgLoaded: true});\n    }\n\n    handleImgError() {\n        const game = this.context;\n        this.setState({imgLoaded: false});\n        game.getNewImage();\n    }\n\n    render() {\n        const game = this.context;\n        const { mode, modes, img, user } = game;\n        \n        return (\n            <div className=\"main\">\n                {user && img &&\n                    <img className={mode !== modes.PREGAME ? 'game-img' : 'hidden'}\n                    src={img.img_src}\n                    alt='game img'\n                    onLoad={this.handleImgLoaded.bind(this)}\n                    onError={this.handleImgError.bind(this)} />\n                }\n\n                {!user &&\n                    <Login />\n                }\n\n                {user && mode === modes.PREGAME && \n                    <Pregame imgLoaded={this.state.imgLoaded} />\n                }\n                {user && mode === modes.LIVEGAME &&\n                    <LiveGame />\n                }\n                {user && mode === modes.POSTGAME &&\n                    <Postgame />\n                }\n            </div>\n        );\n    }\n}\n\nGameSwitch.contextType = GameContext;\n \nexport default GameSwitch;","import React, { Component } from \"react\";\nimport './Loading.css';\nimport Bouncing from './img/bouncing.gif';\nimport GameProvider from './GameProvider';\nimport GameSwitch from './GameSwitch';\nimport Spotlight from './img/spotlight.png';\nimport firebase from './firebase';\nimport Login from \"./Login\";\n\nclass Loading extends Component {\n    state = {\n        loggedIn: false,\n        displayLogin: false,\n        user: null,\n        isLoaded: false\n    }\n\n    componentDidMount() {\n        this.checkUserStatus();\n    }\n\n    checkUserStatus() {\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.userIsLoggedIn(user);\n            } else {\n                this.setState({displayLogin: true});\n            }\n        });\n    }\n\n    userIsLoggedIn(user) {\n        this.setState({displayLogin: false});\n        this.setState({loggedIn: true});\n        this.setState({user: user.uid});\n    }\n\n    appIsLoaded() {\n        this.setState({isLoaded: true});\n    }\n\n    renderGameSwitch() {\n        return <GameSwitch />\n    }\n\n    render() {\n        const { isLoaded, displayLogin, loggedIn, user } = this.state;\n        let gameSwitch;\n        if (isLoaded) {\n            gameSwitch = this.renderGameSwitch();\n        }\n\n        return (\n            <div className=\"loading-screen\">\n                {!isLoaded &&\n                <img className={displayLogin ? 'logo higher' : 'logo'}\n                src={Spotlight} alt=\"logo\" />\n                }\n                {!displayLogin && !isLoaded &&\n                <div>\n                    <p>Loading...</p>\n                    <img className=\"loading\" src={Bouncing} alt=\"loading...\" />\n                </div>\n                }\n\n                {displayLogin &&\n                    <Login setUser={this.userIsLoggedIn.bind(this)} />\n                }\n                \n                {loggedIn && user &&\n                <GameProvider isLoaded={this.appIsLoaded.bind(this)} user={user}>\n                    {gameSwitch}\n                </GameProvider>\n                }\n            </div>\n        );\n    }\n}\n\nexport default Loading;","import React from 'react';\nimport './App.css';\nimport Loading from './Loading';\n\nconst App = () => {\n  return (\n    <Loading />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport './app.global.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}